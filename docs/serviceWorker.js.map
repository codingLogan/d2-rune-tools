{"mappings":"AAAA,MAAMA,oBAAsBC,MAAOC,IAC/B,MAAMC,QAAcC,OAAOC,KAAK,MAChC,UACUF,EAAMG,OAAOJ,E,CACrB,MAAOK,GACLC,QAAQC,IAAI,eAAgB,CAACC,MAAOH,IACpCC,QAAQE,MAAM,yB,GAItB,IACI,IAAIC,EAAQ,CACR,cACA,cACA,wBAGJ,MAAMC,EAAW,sBAEjBD,EAAQA,EAAME,KAAIC,GAAQF,EAAWE,IAErCC,KAAKC,iBAAiB,WAAYC,IAC9BA,EAAMC,UACFlB,oBAAoBW,GACvB,IAGL,MAAMQ,EAAalB,MAAOmB,EAASC,KAC/B,MAAMlB,QAAcC,OAAOC,KAAK,YAC1BF,EAAMmB,IAAIF,EAASC,EAAS,EAGhCE,EAAatB,MAAOmB,IACtB,MAAMI,QAA0BpB,OAAOqB,MAAML,GAC7C,GAAII,EACF,OAAOA,EAET,MAAME,QAA4BC,MAAMP,GAExC,OADAD,EAAWC,EAASM,EAAoBE,SACjCF,CAAmB,EAG9BX,KAAKC,iBAAiB,SAAUC,IAC5BA,EAAMY,YAAYN,EAAWN,EAAMG,SAAS,G,CAGlD,MAAMb,GACJC,QAAQE,MAAM,QAASH,E","sources":["src/serviceWorker.js"],"sourcesContent":["const addResourcesToCache = async (resources) => {\r\n    const cache = await caches.open(\"v1\");\r\n    try {\r\n        await cache.addAll(resources);\r\n    } catch (e) {\r\n        console.log(\"Cache failed\", {error: e})\r\n        console.error(\"Failure building cache\")\r\n    }\r\n};\r\n  \r\ntry {\r\n    let files = [\r\n        \"/index.html\",\r\n        \"/runes.html\",\r\n        \"/serviceWorkerApp.js\"\r\n    ]\r\n\r\n    const basePath = '/diablo-2-runewords'\r\n\r\n    files = files.map(file => basePath + file)\r\n\r\n    self.addEventListener(\"install\", (event) => {\r\n        event.waitUntil(\r\n            addResourcesToCache(files),\r\n        );\r\n    });\r\n\r\n    const putInCache = async (request, response) => {\r\n        const cache = await caches.open(\"v1\");\r\n        await cache.put(request, response);\r\n    };\r\n      \r\n    const cacheFirst = async (request) => {\r\n        const responseFromCache = await caches.match(request);\r\n        if (responseFromCache) {\r\n          return responseFromCache;\r\n        }\r\n        const responseFromNetwork = await fetch(request);\r\n        putInCache(request, responseFromNetwork.clone());\r\n        return responseFromNetwork;\r\n    };\r\n      \r\n    self.addEventListener(\"fetch\", (event) => {\r\n        event.respondWith(cacheFirst(event.request));\r\n    });\r\n      \r\n} catch(e) {\r\n    console.error(\"Error\", e)\r\n}\r\n  "],"names":["addResourcesToCache","async","resources","cache","caches","open","addAll","e","console","log","error","files","basePath","map","file","self","addEventListener","event","waitUntil","putInCache","request","response","put","cacheFirst","responseFromCache","match","responseFromNetwork","fetch","clone","respondWith"],"version":3,"file":"serviceWorker.js.map"}